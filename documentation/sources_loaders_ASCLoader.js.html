<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>sources/loaders/ASCLoader.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ASCLoader.html">ASCLoader</a></li><li><a href="BinaryReader.html">BinaryReader</a></li><li><a href="ClassName.html">ClassName</a></li><li><a href="DBFLoader.html">DBFLoader</a></li><li><a href="FBXLoader2.html">FBXLoader2</a></li><li><a href="MeshManager.html">MeshManager</a></li><li><a href="RZMLLoader.html">RZMLLoader</a></li><li><a href="SHPLoader.html">SHPLoader</a></li><li><a href="TAppBar.html">TAppBar</a></li><li><a href="TApplication.html">TApplication</a></li><li><a href="TBoundingBox.html">TBoundingBox</a></li><li><a href="TCache.html">TCache</a><ul class='methods'><li data-type='method'><a href="TCache.html#add">add</a></li><li data-type='method'><a href="TCache.html#clear">clear</a></li><li data-type='method'><a href="TCache.html#get">get</a></li><li data-type='method'><a href="TCache.html#remove">remove</a></li></ul></li><li><a href="TCameraPathController.html">TCameraPathController</a></li><li><a href="TCube.html">TCube</a></li><li><a href="TDataBaseManager.html">TDataBaseManager</a><ul class='methods'><li data-type='method'><a href="TDataBaseManager.html#._statusOk">_statusOk</a></li><li data-type='method'><a href="TDataBaseManager.html#.requestServer">requestServer</a></li><li data-type='method'><a href="TDataBaseManager.html#_create">_create</a></li><li data-type='method'><a href="TDataBaseManager.html#_deleteOne">_deleteOne</a></li><li data-type='method'><a href="TDataBaseManager.html#_deleteSome">_deleteSome</a></li><li data-type='method'><a href="TDataBaseManager.html#_onArrayBuffer">_onArrayBuffer</a></li><li data-type='method'><a href="TDataBaseManager.html#_onBlob">_onBlob</a></li><li data-type='method'><a href="TDataBaseManager.html#_onError">_onError</a></li><li data-type='method'><a href="TDataBaseManager.html#_onJson">_onJson</a></li><li data-type='method'><a href="TDataBaseManager.html#_onLoad">_onLoad</a></li><li data-type='method'><a href="TDataBaseManager.html#_onProgress">_onProgress</a></li><li data-type='method'><a href="TDataBaseManager.html#_onText">_onText</a></li><li data-type='method'><a href="TDataBaseManager.html#_readOne">_readOne</a></li><li data-type='method'><a href="TDataBaseManager.html#_readSome">_readSome</a></li><li data-type='method'><a href="TDataBaseManager.html#_updateOne">_updateOne</a></li><li data-type='method'><a href="TDataBaseManager.html#_updateSome">_updateSome</a></li><li data-type='method'><a href="TDataBaseManager.html#create">create</a></li><li data-type='method'><a href="TDataBaseManager.html#delete">delete</a></li><li data-type='method'><a href="TDataBaseManager.html#read">read</a></li><li data-type='method'><a href="TDataBaseManager.html#update">update</a></li></ul></li><li><a href="TDateTime.html">TDateTime</a><ul class='methods'><li data-type='method'><a href="TDateTime.html#componentDidMount">componentDidMount</a></li><li data-type='method'><a href="TDateTime.html#render">render</a></li><li data-type='method'><a href="TDateTime.html#tick">tick</a></li></ul></li><li><a href="TDebugPanel.html">TDebugPanel</a></li><li><a href="TErrorCatcher.html">TErrorCatcher</a><ul class='methods'><li data-type='method'><a href="TErrorCatcher.html#componentDidCatch">componentDidCatch</a></li><li data-type='method'><a href="TErrorCatcher.html#render">render</a></li></ul></li><li><a href="TErrorManager.html">TErrorManager</a></li><li><a href="TFactory.html">TFactory</a></li><li><a href="TFile.html">TFile</a></li><li><a href="TGeometriesManager.html">TGeometriesManager</a><ul class='methods'><li data-type='method'><a href="TGeometriesManager.html#convertJsonToGeometry">convertJsonToGeometry</a></li></ul></li><li><a href="TKeyboardState.html">TKeyboardState</a></li><li><a href="TLogger.html">TLogger</a></li><li><a href="TMaterialsManager.html">TMaterialsManager</a></li><li><a href="TMouseController.html">TMouseController</a></li><li><a href="TObjectsManager.html">TObjectsManager</a></li><li><a href="Todo....html">.</a></li><li><a href="TOrbitControlsHelper.html">TOrbitControlsHelper</a></li><li><a href="TOrchestrator.html">TOrchestrator</a><ul class='methods'><li data-type='method'><a href="TOrchestrator.html#processQueue">processQueue</a></li></ul></li><li><a href="TPlanets.html">TPlanets</a></li><li><a href="TPointsManager.html">TPointsManager</a></li><li><a href="TProgressManager.html">TProgressManager</a></li><li><a href="TScenesManager.html">TScenesManager</a></li><li><a href="TToolBar.html">TToolBar</a></li><li><a href="TTrigonometricCircle.html">TTrigonometricCircle</a></li><li><a href="TTrigonometricCone.html">TTrigonometricCone</a></li><li><a href="TUniversalLoader.html">TUniversalLoader</a></li><li><a href="TViewport.html">TViewport</a></li></ul><h3>Modules</h3><ul><li><a href="module-config_babelConfiguration.html">config/babelConfiguration</a><ul class='methods'><li data-type='method'><a href="module-config_babelConfiguration.html#~CreateBabelConfiguration">CreateBabelConfiguration</a></li></ul></li><li><a href="module-config_eslintConfiguration.html">config/eslintConfiguration</a><ul class='methods'><li data-type='method'><a href="module-config_eslintConfiguration.html#~CreateEslintConfiguration">CreateEslintConfiguration</a></li></ul></li><li><a href="module-config_jsdocConfiguration.html">config/jsdocConfiguration</a><ul class='methods'><li data-type='method'><a href="module-config_jsdocConfiguration.html#~CreateJsdocConfiguration">CreateJsdocConfiguration</a></li></ul></li><li><a href="module-config_karmaBenchConfiguration.html">config/karmaBenchConfiguration</a><ul class='methods'><li data-type='method'><a href="module-config_karmaBenchConfiguration.html#~CreateKarmaBenchmarkConfiguration">CreateKarmaBenchmarkConfiguration</a></li></ul></li><li><a href="module-config_karmaUnitConfiguration.html">config/karmaUnitConfiguration</a><ul class='methods'><li data-type='method'><a href="module-config_karmaUnitConfiguration.html#~CreateKarmaUnitTestingConfiguration">CreateKarmaUnitTestingConfiguration</a></li></ul></li><li><a href="module-config_rollupConfiguration.html">config/rollupConfiguration</a><ul class='methods'><li data-type='method'><a href="module-config_rollupConfiguration.html#~CreateRollupConfiguration">CreateRollupConfiguration</a></li></ul></li><li><a href="module-gulpfile.html">gulpfile</a><ul class='methods'><li data-type='method'><a href="module-gulpfile.html#~npmrunbench">npm run bench</a></li><li data-type='method'><a href="module-gulpfile.html#~npmrunbuild">npm run build</a></li><li data-type='method'><a href="module-gulpfile.html#~npmrunclean">npm run clean</a></li><li data-type='method'><a href="module-gulpfile.html#~npmrundoc">npm run doc</a></li><li data-type='method'><a href="module-gulpfile.html#~npmrunlint">npm run lint</a></li><li data-type='method'><a href="module-gulpfile.html#~npmrunrelease">npm run release</a></li><li data-type='method'><a href="module-gulpfile.html#~npmruntest">npm run test</a></li><li data-type='method'><a href="module-gulpfile.html#~npmrununit">npm run unit</a></li><li data-type='method'><a href="module-gulpfile.html#~npmrunhelpdefault">npm run help </a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#_convertToObjects">_convertToObjects</a></li><li><a href="global.html#_createCloudPoint">_createCloudPoint</a></li><li><a href="global.html#_createImagesPacks">_createImagesPacks</a></li><li><a href="global.html#_createSubCloudPoint">_createSubCloudPoint</a></li><li><a href="global.html#_formatObjectError">_formatObjectError</a></li><li><a href="global.html#_formatTrace">_formatTrace</a></li><li><a href="global.html#_getAndUpdateOffsetBy">_getAndUpdateOffsetBy</a></li><li><a href="global.html#_getCustomProperties">_getCustomProperties</a></li><li><a href="global.html#_getReferentialIntegrityProperties">_getReferentialIntegrityProperties</a></li><li><a href="global.html#_getStandardProperties">_getStandardProperties</a></li><li><a href="global.html#_initBuildingsOf">_initBuildingsOf</a></li><li><a href="global.html#_initCompanies">_initCompanies</a></li><li><a href="global.html#_initObjectsOf">_initObjectsOf</a></li><li><a href="global.html#_initScenesOf">_initScenesOf</a></li><li><a href="global.html#_initSitesOf">_initSitesOf</a></li><li><a href="global.html#_isValidVersion">_isValidVersion</a></li><li><a href="global.html#_levelToString">_levelToString</a></li><li><a href="global.html#_loadAsc">_loadAsc</a></li><li><a href="global.html#_loadDbf">_loadDbf</a></li><li><a href="global.html#_loadFbx">_loadFbx</a></li><li><a href="global.html#_loadJson">_loadJson</a></li><li><a href="global.html#_loadObj">_loadObj</a></li><li><a href="global.html#_loadObjMtlCouple">_loadObjMtlCouple</a></li><li><a href="global.html#_loadShp">_loadShp</a></li><li><a href="global.html#_loadShpDbfCouple">_loadShpDbfCouple</a></li><li><a href="global.html#_loadStl">_loadStl</a></li><li><a href="global.html#_offsetPoints">_offsetPoints</a></li><li><a href="global.html#_onJson">_onJson</a></li><li><a href="global.html#_parse">_parse</a></li><li><a href="global.html#_parseDatas">_parseDatas</a></li><li><a href="global.html#_parseFieldProperties">_parseFieldProperties</a></li><li><a href="global.html#_parseHeader">_parseHeader</a></li><li><a href="global.html#_parseHeaderV2">_parseHeaderV2</a></li><li><a href="global.html#_parseHeaderV2_5">_parseHeaderV2_5</a></li><li><a href="global.html#_parseHeaderV3">_parseHeaderV3</a></li><li><a href="global.html#_parseHeaderV4">_parseHeaderV4</a></li><li><a href="global.html#_parseLine">_parseLine</a></li><li><a href="global.html#_parseLineB">_parseLineB</a></li><li><a href="global.html#_parseLineC">_parseLineC</a></li><li><a href="global.html#_parseLines">_parseLines</a></li><li><a href="global.html#_parseLinesAsXYZ">_parseLinesAsXYZ</a></li><li><a href="global.html#_parseLinesAsXYZI">_parseLinesAsXYZI</a></li><li><a href="global.html#_parseLinesAsXYZInXnYnZ">_parseLinesAsXYZInXnYnZ</a></li><li><a href="global.html#_parseLinesAsXYZIRGB">_parseLinesAsXYZIRGB</a></li><li><a href="global.html#_parseLinesAsXYZIRGBnXnYnZ">_parseLinesAsXYZIRGBnXnYnZ</a></li><li><a href="global.html#_parseLinesAsXYZnXnYnZ">_parseLinesAsXYZnXnYnZ</a></li><li><a href="global.html#_parseLinesAsXYZRGB">_parseLinesAsXYZRGB</a></li><li><a href="global.html#_parseLinesAsXYZRGBnXnYnZ">_parseLinesAsXYZRGBnXnYnZ</a></li><li><a href="global.html#_parseMultiPatch">_parseMultiPatch</a></li><li><a href="global.html#_parseMultiPoint">_parseMultiPoint</a></li><li><a href="global.html#_parsePoint">_parsePoint</a></li><li><a href="global.html#_parsePolygon">_parsePolygon</a></li><li><a href="global.html#_parsePolyLine">_parsePolyLine</a></li><li><a href="global.html#_parseRecordHeader">_parseRecordHeader</a></li><li><a href="global.html#_processBuildings">_processBuildings</a></li><li><a href="global.html#_processCompanies">_processCompanies</a></li><li><a href="global.html#_processGeometries">_processGeometries</a></li><li><a href="global.html#_processMaterials">_processMaterials</a></li><li><a href="global.html#_processObjects">_processObjects</a></li><li><a href="global.html#_processScenes">_processScenes</a></li><li><a href="global.html#_processSites">_processSites</a></li><li><a href="global.html#_RingGeometry">_RingGeometry</a></li><li><a href="global.html#_toggleObjectVisibility">_toggleObjectVisibility</a></li><li><a href="global.html#_updateDataView">_updateDataView</a></li><li><a href="global.html#addObjectToModel">addObjectToModel</a></li><li><a href="global.html#addPointsFromBuffer">addPointsFromBuffer</a></li><li><a href="global.html#addRaycastables">addRaycastables</a></li><li><a href="global.html#append">append</a></li><li><a href="global.html#askUserForPosition">askUserForPosition</a></li><li><a href="global.html#autoRotate">autoRotate</a></li><li><a href="global.html#Byte">Byte</a></li><li><a href="global.html#celsiusToFahrenheit">celsiusToFahrenheit</a></li><li><a href="global.html#celsiusToKelvin">celsiusToKelvin</a></li><li><a href="global.html#changeMaterialSide">changeMaterialSide</a></li><li><a href="global.html#classNameify">classNameify</a></li><li><a href="global.html#computePoint">computePoint</a></li><li><a href="global.html#computePoints">computePoints</a></li><li><a href="global.html#computeSplinePath">computeSplinePath</a></li><li><a href="global.html#computeUrl">computeUrl</a></li><li><a href="global.html#constructor">constructor</a></li><li><a href="global.html#convertArrayBufferToString">convertArrayBufferToString</a></li><li><a href="global.html#convertJsonToMaterial">convertJsonToMaterial</a></li><li><a href="global.html#convertJsonToObject3D">convertJsonToObject3D</a></li><li><a href="global.html#convertLambert93CoordinatesToWebGLCoordinates">convertLambert93CoordinatesToWebGLCoordinates</a></li><li><a href="global.html#convertWebGLCoordinatesToLambert93Coordinates">convertWebGLCoordinatesToLambert93Coordinates</a></li><li><a href="global.html#convertWebGLRotationToTopogicalYawPitch">convertWebGLRotationToTopogicalYawPitch</a></li><li><a href="global.html#convertWebglVectorToTopologicVector">convertWebglVectorToTopologicVector</a></li><li><a href="global.html#createEarth">createEarth</a></li><li><a href="global.html#createEarthCloud">createEarthCloud</a></li><li><a href="global.html#createFlowParticlesGroup">createFlowParticlesGroup</a></li><li><a href="global.html#createInterval">createInterval</a></li><li><a href="global.html#createJupiter">createJupiter</a></li><li><a href="global.html#createMars">createMars</a></li><li><a href="global.html#createMercury">createMercury</a></li><li><a href="global.html#createMoon">createMoon</a></li><li><a href="global.html#createNeptune">createNeptune</a></li><li><a href="global.html#createNodesGroup">createNodesGroup</a></li><li><a href="global.html#createParticularEmbranchmentGroup">createParticularEmbranchmentGroup</a></li><li><a href="global.html#createPathGroup">createPathGroup</a></li><li><a href="global.html#createPluto">createPluto</a></li><li><a href="global.html#createPointCloudDataMap">createPointCloudDataMap</a></li><li><a href="global.html#createSamplingTable">createSamplingTable</a></li><li><a href="global.html#createSaturn">createSaturn</a></li><li><a href="global.html#createSaturnRing">createSaturnRing</a></li><li><a href="global.html#createSectionGroup">createSectionGroup</a></li><li><a href="global.html#createSprite">createSprite</a></li><li><a href="global.html#createSun">createSun</a></li><li><a href="global.html#createUranus">createUranus</a></li><li><a href="global.html#createUranusRing">createUranusRing</a></li><li><a href="global.html#createVenus">createVenus</a></li><li><a href="global.html#DataType">DataType</a></li><li><a href="global.html#DBFVersion">DBFVersion</a></li><li><a href="global.html#debug">debug</a></li><li><a href="global.html#decimateVisibleMeshes">decimateVisibleMeshes</a></li><li><a href="global.html#decreasePointCloudData">decreasePointCloudData</a></li><li><a href="global.html#DEFAULT_SETTINGS">DEFAULT_SETTINGS</a></li><li><a href="global.html#degreesFromRadians">degreesFromRadians</a></li><li><a href="global.html#degreesToRadians">degreesToRadians</a></li><li><a href="global.html#DeletedRecord">DeletedRecord</a></li><li><a href="global.html#dispatch">dispatch</a></li><li><a href="global.html#down">down</a></li><li><a href="global.html#Endianness">Endianness</a></li><li><a href="global.html#endianness">endianness</a></li><li><a href="global.html#endMeasure">endMeasure</a></li><li><a href="global.html#endOpacityAnimation">endOpacityAnimation</a></li><li><a href="global.html#error">error</a></li><li><a href="global.html#extend">extend</a></li><li><a href="global.html#extendObject">extendObject</a></li><li><a href="global.html#fahrenheitToCelsius">fahrenheitToCelsius</a></li><li><a href="global.html#fahrenheitToKelvin">fahrenheitToKelvin</a></li><li><a href="global.html#FileCode">FileCode</a></li><li><a href="global.html#FileFormat">FileFormat</a></li><li><a href="global.html#findIndex">findIndex</a></li><li><a href="global.html#getCenter">getCenter</a></li><li><a href="global.html#getChar">getChar</a></li><li><a href="global.html#getCosinus">getCosinus</a></li><li><a href="global.html#getCosinusForHeight">getCosinusForHeight</a></li><li><a href="global.html#getCurrentPathPosition">getCurrentPathPosition</a></li><li><a href="global.html#getDistanceFromStart">getDistanceFromStart</a></li><li><a href="global.html#getDouble">getDouble</a></li><li><a href="global.html#getFileExtension">getFileExtension</a></li><li><a href="global.html#getFileName">getFileName</a></li><li><a href="global.html#getFilePath">getFilePath</a></li><li><a href="global.html#getFloat">getFloat</a></li><li><a href="global.html#getInt8">getInt8</a></li><li><a href="global.html#getInt16">getInt16</a></li><li><a href="global.html#getInt32">getInt32</a></li><li><a href="global.html#getNextPathPosition">getNextPathPosition</a></li><li><a href="global.html#getOffset">getOffset</a></li><li><a href="global.html#getPitch">getPitch</a></li><li><a href="global.html#getPointClouds">getPointClouds</a></li><li><a href="global.html#getRadius">getRadius</a></li><li><a href="global.html#getRandomArbitrary">getRandomArbitrary</a></li><li><a href="global.html#getRandomInt">getRandomInt</a></li><li><a href="global.html#getSamplingForDistanceToCamera">getSamplingForDistanceToCamera</a></li><li><a href="global.html#getSinus">getSinus</a></li><li><a href="global.html#getSinusForHeight">getSinusForHeight</a></li><li><a href="global.html#getString">getString</a></li><li><a href="global.html#getTemplate">getTemplate</a></li><li><a href="global.html#getUInt8">getUInt8</a></li><li><a href="global.html#getUInt16">getUInt16</a></li><li><a href="global.html#getUInt32">getUInt32</a></li><li><a href="global.html#getYaw">getYaw</a></li><li><a href="global.html#goTo">goTo</a></li><li><a href="global.html#HttpStatusCode">HttpStatusCode</a></li><li><a href="global.html#HttpVerb">HttpVerb</a></li><li><a href="global.html#increasePointCloudData">increasePointCloudData</a></li><li><a href="global.html#increment">increment</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initEvents">initEvents</a></li><li><a href="global.html#insertTreeViewItem">insertTreeViewItem</a></li><li><a href="global.html#isArray">isArray</a></li><li><a href="global.html#isArrayOfArray">isArrayOfArray</a></li><li><a href="global.html#isArrayOfEmpty">isArrayOfEmpty</a></li><li><a href="global.html#isArrayOfEmptyObject">isArrayOfEmptyObject</a></li><li><a href="global.html#isArrayOfEmptyString">isArrayOfEmptyString</a></li><li><a href="global.html#isArrayOfNull">isArrayOfNull</a></li><li><a href="global.html#isArrayOfObject">isArrayOfObject</a></li><li><a href="global.html#isArrayOfString">isArrayOfString</a></li><li><a href="global.html#isArrayOfUndefined">isArrayOfUndefined</a></li><li><a href="global.html#isBool">isBool</a></li><li><a href="global.html#isCelsius">isCelsius</a></li><li><a href="global.html#isDefined">isDefined</a></li><li><a href="global.html#isEmpty">isEmpty</a></li><li><a href="global.html#isEmptyArray">isEmptyArray</a></li><li><a href="global.html#isEmptyObject">isEmptyObject</a></li><li><a href="global.html#isEmptyString">isEmptyString</a></li><li><a href="global.html#isEndOfFile">isEndOfFile</a></li><li><a href="global.html#isFahrenheit">isFahrenheit</a></li><li><a href="global.html#isFinite">isFinite</a></li><li><a href="global.html#isFunction">isFunction</a></li><li><a href="global.html#isInfinite">isInfinite</a></li><li><a href="global.html#isInfiniteNegative">isInfiniteNegative</a></li><li><a href="global.html#isInfinitePositive">isInfinitePositive</a></li><li><a href="global.html#isKelvin">isKelvin</a></li><li><a href="global.html#isNotANumber">isNotANumber</a></li><li><a href="global.html#isNotArray">isNotArray</a></li><li><a href="global.html#isNotArrayOfArray">isNotArrayOfArray</a></li><li><a href="global.html#isNotArrayOfEmpty">isNotArrayOfEmpty</a></li><li><a href="global.html#isNotArrayOfEmptyObject">isNotArrayOfEmptyObject</a></li><li><a href="global.html#isNotArrayOfEmptyString">isNotArrayOfEmptyString</a></li><li><a href="global.html#isNotArrayOfNull">isNotArrayOfNull</a></li><li><a href="global.html#isNotArrayOfObject">isNotArrayOfObject</a></li><li><a href="global.html#isNotArrayOfString">isNotArrayOfString</a></li><li><a href="global.html#isNotArrayOfUndefined">isNotArrayOfUndefined</a></li><li><a href="global.html#isNotBool">isNotBool</a></li><li><a href="global.html#isNotCelsius">isNotCelsius</a></li><li><a href="global.html#isNotEmpty">isNotEmpty</a></li><li><a href="global.html#isNotEmptyArray">isNotEmptyArray</a></li><li><a href="global.html#isNotEmptyObject">isNotEmptyObject</a></li><li><a href="global.html#isNotEmptyObjectWithEmptyValues">isNotEmptyObjectWithEmptyValues</a></li><li><a href="global.html#isNotEmptyObjectWithNotEmptyValues">isNotEmptyObjectWithNotEmptyValues</a></li><li><a href="global.html#isNotEmptyString">isNotEmptyString</a></li><li><a href="global.html#isNotFahrenheit">isNotFahrenheit</a></li><li><a href="global.html#isNotFunction">isNotFunction</a></li><li><a href="global.html#isNotKelvin">isNotKelvin</a></li><li><a href="global.html#isNotNull">isNotNull</a></li><li><a href="global.html#isNotObject">isNotObject</a></li><li><a href="global.html#isNotString">isNotString</a></li><li><a href="global.html#isNotSymbol">isNotSymbol</a></li><li><a href="global.html#isNotSymbol2">isNotSymbol2</a></li><li><a href="global.html#isNotTemperature">isNotTemperature</a></li><li><a href="global.html#isNull">isNull</a></li><li><a href="global.html#isNumber">isNumber</a></li><li><a href="global.html#isNumberNegative">isNumberNegative</a></li><li><a href="global.html#isNumberPositive">isNumberPositive</a></li><li><a href="global.html#isObject">isObject</a></li><li><a href="global.html#isString">isString</a></li><li><a href="global.html#isSymbol">isSymbol</a></li><li><a href="global.html#isTemperature">isTemperature</a></li><li><a href="global.html#isUndefined">isUndefined</a></li><li><a href="global.html#k">k</a></li><li><a href="global.html#kelvinToCelsius">kelvinToCelsius</a></li><li><a href="global.html#kelvinToFahrenheit">kelvinToFahrenheit</a></li><li><a href="global.html#keyName">keyName</a></li><li><a href="global.html#Keys">Keys</a></li><li><a href="global.html#load">load</a></li><li><a href="global.html#loadAssociatedFiles">loadAssociatedFiles</a></li><li><a href="global.html#loadObjectFromURL">loadObjectFromURL</a></li><li><a href="global.html#loadSingleFile">loadSingleFile</a></li><li><a href="global.html#log">log</a></li><li><a href="global.html#LogLevel">LogLevel</a></li><li><a href="global.html#LogOutput">LogOutput</a></li><li><a href="global.html#lookAtPath">lookAtPath</a></li><li><a href="global.html#MinFileLength">MinFileLength</a></li><li><a href="global.html#MinVersion">MinVersion</a></li><li><a href="global.html#onKeyDown">onKeyDown</a></li><li><a href="global.html#onKeyUp">onKeyUp</a></li><li><a href="global.html#parse">parse</a></li><li><a href="global.html#parseColor">parseColor</a></li><li><a href="global.html#parseFloatArray">parseFloatArray</a></li><li><a href="global.html#parseIntArray">parseIntArray</a></li><li><a href="global.html#parseMatrixArray">parseMatrixArray</a></li><li><a href="global.html#parseVector3">parseVector3</a></li><li><a href="global.html#populateVisibleMeshes">populateVisibleMeshes</a></li><li><a href="global.html#popupImageShotModal">popupImageShotModal</a></li><li><a href="global.html#popupImportFilesModal">popupImportFilesModal</a></li><li><a href="global.html#popupSelectedObjectModal">popupSelectedObjectModal</a></li><li><a href="global.html#pressed">pressed</a></li><li><a href="global.html#queue">queue</a></li><li><a href="global.html#radiansFromDegrees">radiansFromDegrees</a></li><li><a href="global.html#radiansToDegrees">radiansToDegrees</a></li><li><a href="global.html#removeMeasure">removeMeasure</a></li><li><a href="global.html#removeTemporaryMeasure">removeTemporaryMeasure</a></li><li><a href="global.html#requestDataBuffer">requestDataBuffer</a></li><li><a href="global.html#resetDataPanel">resetDataPanel</a></li><li><a href="global.html#ResponseType">ResponseType</a></li><li><a href="global.html#ringClockwise">ringClockwise</a></li><li><a href="global.html#ringContains">ringContains</a></li><li><a href="global.html#ringContainsSome">ringContainsSome</a></li><li><a href="global.html#segmentContains">segmentContains</a></li><li><a href="global.html#selectObject">selectObject</a></li><li><a href="global.html#serializeObject">serializeObject</a></li><li><a href="global.html#setBuffer">setBuffer</a></li><li><a href="global.html#setCameraControls">setCameraControls</a></li><li><a href="global.html#setCameraEffect">setCameraEffect</a></li><li><a href="global.html#setCameraMode">setCameraMode</a></li><li><a href="global.html#setCameraPosition">setCameraPosition</a></li><li><a href="global.html#setEndianess">setEndianess</a></li><li><a href="global.html#setGlobalOffset">setGlobalOffset</a></li><li><a href="global.html#setGroupVisibility">setGroupVisibility</a></li><li><a href="global.html#setLayerGroupVisibility">setLayerGroupVisibility</a></li><li><a href="global.html#setMapViewer">setMapViewer</a></li><li><a href="global.html#setMaximumSamplingLimit">setMaximumSamplingLimit</a></li><li><a href="global.html#setMinimumSamplingLimit">setMinimumSamplingLimit</a></li><li><a href="global.html#setMouseQuat">setMouseQuat</a></li><li><a href="global.html#setOffset">setOffset</a></li><li><a href="global.html#setPath">setPath</a></li><li><a href="global.html#setPaths">setPaths</a></li><li><a href="global.html#setPosition">setPosition</a></li><li><a href="global.html#setRendersEffect">setRendersEffect</a></li><li><a href="global.html#ShapeType">ShapeType</a></li><li><a href="global.html#singletonInstance">singletonInstance</a></li><li><a href="global.html#skipOffsetOf">skipOffsetOf</a></li><li><a href="global.html#skipOffsetTo">skipOffsetTo</a></li><li><a href="global.html#slice">slice</a></li><li><a href="global.html#startMeasure">startMeasure</a></li><li><a href="global.html#startOpacityAnimation">startOpacityAnimation</a></li><li><a href="global.html#status">status</a></li><li><a href="global.html#Terminator">Terminator</a></li><li><a href="global.html#TFresnelBlueShader">TFresnelBlueShader</a></li><li><a href="global.html#TFresnelGreenShader">TFresnelGreenShader</a></li><li><a href="global.html#TFresnelRedShader">TFresnelRedShader</a></li><li><a href="global.html#toggleAutorun">toggleAutorun</a></li><li><a href="global.html#toggleCamera">toggleCamera</a></li><li><a href="global.html#up">up</a></li><li><a href="global.html#update">update</a></li><li><a href="global.html#updateAvatar">updateAvatar</a></li><li><a href="global.html#updateDataPanel">updateDataPanel</a></li><li><a href="global.html#updateDebugSize">updateDebugSize</a></li><li><a href="global.html#updateDocumentSize">updateDocumentSize</a></li><li><a href="global.html#updateHelperPosition">updateHelperPosition</a></li><li><a href="global.html#updateImageShot">updateImageShot</a></li><li><a href="global.html#updateInnerContainerSize">updateInnerContainerSize</a></li><li><a href="global.html#updateMainContainerSize">updateMainContainerSize</a></li><li><a href="global.html#updateMapViewer">updateMapViewer</a></li><li><a href="global.html#updateMapViewerDisplay">updateMapViewerDisplay</a></li><li><a href="global.html#updateMapViewerOrientation">updateMapViewerOrientation</a></li><li><a href="global.html#updateMapViewerPosition">updateMapViewerPosition</a></li><li><a href="global.html#updateMeasure">updateMeasure</a></li><li><a href="global.html#updateMeshResolution">updateMeshResolution</a></li><li><a href="global.html#updateNavbarSize">updateNavbarSize</a></li><li><a href="global.html#updatePointCloudDensity">updatePointCloudDensity</a></li><li><a href="global.html#updatePointClouds">updatePointClouds</a></li><li><a href="global.html#updatePointCloudSampling">updatePointCloudSampling</a></li><li><a href="global.html#updateRaycasting">updateRaycasting</a></li><li><a href="global.html#updateSizes">updateSizes</a></li><li><a href="global.html#updateTemporaryMeasure">updateTemporaryMeasure</a></li><li><a href="global.html#updateWindowSize">updateWindowSize</a></li><li><a href="global.html#warn">warn</a></li><li><a href="global.html#YearOffset">YearOffset</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">sources/loaders/ASCLoader.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @author [Tristan Valcke]{@link https://github.com/Itee}
 * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}
 *
 * @file A loader for ASC cloud point files.
 *
 * @example
 *    var loader = new ASCLoader();
 *    loader.load('/path/to/file.asc', function (geometry) {
 *
 *		scene.add( new Mesh( geometry ) );
 *
 *	} );
 *
 * If the ASC file need to be offset,
 * it can be set before loading file.
 *
 * loader.setOffset( {
 *	x: 1.0,
 *  y: 52.0,
 *  z: -5.0
 * } );
 *
 */

/* eslint-env browser */

import { FileLoader } from '../../node_modules/threejs-full-es6/sources/loaders/FileLoader'
import { DefaultLoadingManager } from '../../node_modules/threejs-full-es6/sources/loaders/LoadingManager'
import { BufferGeometry } from '../../node_modules/threejs-full-es6/sources/core/BufferGeometry'
import { BufferAttribute } from '../../node_modules/threejs-full-es6/sources/core/BufferAttribute'
import { Group } from '../../node_modules/threejs-full-es6/sources/objects/Group'
import { Points } from '../../node_modules/threejs-full-es6/sources/objects/Points'
import { Color } from '../../node_modules/threejs-full-es6/sources/math/Color'
import { PointsMaterial } from '../../node_modules/threejs-full-es6/sources/materials/PointsMaterial'

import { DefaultLogger as TLogger } from '../loggers/TLogger'
import { TBoundingBox } from '../cores/TBoundingBox'

/**
 *
 * @param manager
 * @constructor
 */
function ASCLoader ( manager ) {

    this.manager = ( manager ) ? manager : DefaultLoadingManager;

    this._boundingBox    = new TBoundingBox();
    this._points         = [];
    this._numberOfPoints = 0;
    this._coloredPoints  = false;
    this._autoOffset     = false; // Only for tiny files !!!!!!!
    this._offset         = {
        x: 600200,
        y: 131400,
        z: 60
    };

    this._positions   = null;
    this._bufferIndex = 0;

    this._positionsC   = null;
    this._bufferIndexC = 0;

    this.wrongPoints = 0;
}

Object.assign( ASCLoader.prototype, {

    /**
     *
     * @param url
     * @param onLoad
     * @param onProgress
     * @param onError
     * @param sampling
     */
    load ( url, onLoad, onProgress, onError, sampling ) {

        //        //TLogger.time("ASCLoader")

        const loader = new FileLoader( this.manager )
        loader.setResponseType( 'blob' )
        loader.load( url, function ( blob ) {

            const groupToFeed = new Group()
            this._parse( blob, groupToFeed, onLoad, onProgress, onError, sampling )
            onLoad( groupToFeed )

        }.bind( this ), onProgress, onError )

    },

    /**
     *
     * @param offset
     */
    setOffset ( offset ) {

        //TODO: check is correct

        this._offset     = offset;
        this._autoOffset = false;

    },

    /**
     *
     * @param blob
     * @param groupToFeed
     * @param onLoad
     * @param onProgress
     * @param onError
     * @param sampling
     * @private
     */
    _parse ( blob, groupToFeed, onLoad, onProgress, onError, sampling ) {

        const self = this

        const _sampling = (sampling) ? sampling : 100

        const reader     = new FileReader()
        const CHUNK_SIZE = 134217728
        let offset       = 0

        reader.onabort = function ( abortEvent ) {

            // TLogger.log("abortEvent:");
            // TLogger.log(abortEvent);

        };

        reader.onerror = function ( errorEvent ) {

            // TLogger.log("errorEvent:");
            // TLogger.log(errorEvent);

            if ( onError ) {
                onError( errorEvent );
            }

        };

        reader.onloadstart = function ( loadStartEvent ) {

            // TLogger.log("loadStartEvent:");
            // TLogger.log(loadStartEvent);

        };

        reader.onprogress = function ( progressEvent ) {

            // TLogger.log("progressEvent:");
            // TLogger.log(progressEvent);

            // // By lines
            // var lines = this.result.split('\n');
            // for(var lineIndex = 0, numberOfLine = lines.length; lineIndex &lt; numberOfLine; ++lineIndex){
            //     self._parseLine(lines[lineIndex])
            // }

            if ( onProgress ) {
                onProgress( progressEvent );
            }

        };

        reader.onload = function ( loadEvent ) {

            // TLogger.log("loadEvent:");
            // TLogger.log(loadEvent);

            // By lines
            const lines         = this.result.split( '\n' );
            const numberOfLines = lines.length;

            // /!\ Rollback offset for last line that is uncompleted in most time
            offset -= lines[ numberOfLines - 1 ].length;

            // //TLogger.time("Parse Lines A");
            const modSampling = Math.round( 100 / _sampling )
            for ( let lineIndex = 0 ; lineIndex &lt; numberOfLines - 1 ; lineIndex++ ) {
                if ( lineIndex % modSampling === 0 ) // Just to make cloud lighter under debug !!!!
                {
                    self._parseLine( lines[ lineIndex ] )
                }
            }
            // //TLogger.timeEnd("Parse Lines A");

            // //TLogger.time("Parse Lines B");
            // self._parseLines(lines);
            // //TLogger.timeEnd("Parse Lines B");

            ////Todo: use ArrayBuffer instead !!!
            // //TLogger.time("Parse Lines B");
            // self._bufferIndex = 0;
            // self._positions = new Float32Array( numberOfLines * 3 );
            // for (var lineIndex = 0; lineIndex &lt; numberOfLines - 1; lineIndex++) {
            //     self._parseLineB(lines[ lineIndex ])
            // }
            // //TLogger.timeEnd("Parse Lines B");
            //
            // //TLogger.time("Parse Lines C");
            // self._bufferIndexC = 0;
            // self._positionsC = new Float32Array( numberOfLines * 3 );
            // for (var lineIndex = 0; lineIndex &lt; numberOfLines - 1; lineIndex++) {
            //     self._parseLineB(lines[ lineIndex ])
            // }
            // //TLogger.timeEnd("Parse Lines C");

        };

        reader.onloadend = function ( loadEndEvent ) {

            // TLogger.log("loadEndEvent");
            // TLogger.log(loadEndEvent);

            if ( self._points.length > 1000000 || offset + CHUNK_SIZE >= blob.size ) {

                // Compute bounding box in view to get his center for auto offseting the cloud point.
                // if ( self._autoOffset ) {
                //     //TLogger.time("Compute Points");
                //     self._boundingBox.computePoints(self._points);
                //     //TLogger.timeEnd("Compute Points");
                // }

                // //TLogger.time("Offset Points");
                self._offsetPoints();
                // //TLogger.timeEnd("Offset Points");

                // //TLogger.time("Create WorldCell");
                self._createSubCloudPoint( groupToFeed );
                // //TLogger.timeEnd("Create WorldCell");

            }

            offset += CHUNK_SIZE;
            seek();

        };

        // reader.readAsText(blob);
        seek();

        function seek () {
            if ( offset >= blob.size ) {

                // //TLogger.timeEnd("Parse")
                //                //TLogger.timeEnd( "ASCLoader" )

                // // Compute bounding box in view to get his center for auto offseting the cloud point.
                // if ( self._autoOffset ) {
                //     //TLogger.time("Compute Points");
                //     self._boundingBox.computePoints(self._points);
                //     //TLogger.timeEnd("Compute Points");
                // }
                //
                // //TLogger.time("Offset Points");
                // self._offsetPoints();
                // //TLogger.timeEnd("Offset Points");
                //
                // //TLogger.time("Create WorldCell");
                // self._createCloudPoint(groupToFeed);
                // // var cloudPoints = self._createCloudPoint();
                // //TLogger.timeEnd("Create WorldCell");
                // // onLoad(cloudPoints);

                return;
            }

            const slice = blob.slice( offset, offset + CHUNK_SIZE, "text/plain" )
            reader.readAsText( slice )
        }

    },

    /**
     *
     * @param line
     * @private
     */
    _parseLine ( line ) {

        const values        = line.split( " " )
        const numberOfWords = values.length

        if ( numberOfWords === 3 ) {

            this._points.push( {
                x: parseFloat( values[ 0 ] ),
                y: parseFloat( values[ 1 ] ),
                z: parseFloat( values[ 2 ] )
            } )

        } else if ( numberOfWords === 4 ) {

            this._pointsHaveIntensity = true

            this._points.push( {
                x: parseFloat( values[ 0 ] ),
                y: parseFloat( values[ 1 ] ),
                z: parseFloat( values[ 2 ] ),
                i: parseFloat( values[ 3 ] )
            } )

        } else if ( numberOfWords === 6 ) {

            //Todo: allow to ask user if 4, 5 and 6 index are normals
            //Todo: for the moment consider it is color !

            this._pointsHaveColor = true

            this._points.push( {
                x: parseFloat( values[ 0 ] ),
                y: parseFloat( values[ 1 ] ),
                z: parseFloat( values[ 2 ] ),
                r: parseFloat( values[ 3 ] ),
                g: parseFloat( values[ 4 ] ),
                b: parseFloat( values[ 5 ] )
            } )

        } else if ( numberOfWords === 7 ) {

            //Todo: allow to ask user if 4, 5 and 6 index are normals
            //Todo: for the moment consider it is color !

            this._pointsHaveIntensity = true
            this._pointsHaveColor     = true

            this._points.push( {
                x: parseFloat( values[ 0 ] ),
                y: parseFloat( values[ 1 ] ),
                z: parseFloat( values[ 2 ] ),
                i: parseFloat( values[ 3 ] ),
                r: parseFloat( values[ 4 ] ),
                g: parseFloat( values[ 5 ] ),
                b: parseFloat( values[ 6 ] )
            } )

        } else if ( numberOfWords === 9 ) {

            this._pointsHaveColor   = true
            this._pointsHaveNormals = true

            this._points.push( {
                x:  parseFloat( values[ 0 ] ),
                y:  parseFloat( values[ 1 ] ),
                z:  parseFloat( values[ 2 ] ),
                r:  parseFloat( values[ 3 ] ),
                g:  parseFloat( values[ 4 ] ),
                b:  parseFloat( values[ 5 ] ),
                nx: parseFloat( values[ 6 ] ),
                ny: parseFloat( values[ 7 ] ),
                nz: parseFloat( values[ 8 ] )
            } )

        } else if ( numberOfWords === 10 ) {

            this._pointsHaveIntensity = true
            this._pointsHaveColor     = true
            this._pointsHaveNormals   = true

            this._points.push( {
                x:  parseFloat( values[ 0 ] ),
                y:  parseFloat( values[ 1 ] ),
                z:  parseFloat( values[ 2 ] ),
                i:  parseFloat( values[ 3 ] ),
                r:  parseFloat( values[ 4 ] ),
                g:  parseFloat( values[ 5 ] ),
                b:  parseFloat( values[ 6 ] ),
                nx: parseFloat( values[ 7 ] ),
                ny: parseFloat( values[ 8 ] ),
                nz: parseFloat( values[ 9 ] )
            } )

        } else {
            TLogger.error( "Invalid data line: " + line )
        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLines ( lines ) {

        const firstLine = lines[ 0 ].split( " " )
        const pointType = firstLine.length

        if ( pointType === 3 ) {

            this._parseLinesAsXYZ( lines )

        } else if ( pointType === 4 ) {

            this._parseLinesAsXYZI( lines )

        } else if ( pointType === 6 ) {

            //Todo: allow to ask user if 4, 5 and 6 index are normals
            //Todo: for the moment consider it is color !
            this._parseLinesAsXYZRGB( lines )

        } else if ( pointType === 7 ) {

            //Todo: allow to ask user if 4, 5 and 6 index are normals see _parseLinesAsXYZInXnYnZ
            //Todo: for the moment consider it is color !
            this._parseLinesAsXYZIRGB( lines )

        } else if ( pointType === 9 ) {

            this._parseLinesAsXYZRGBnXnYnZ( lines )

        } else if ( pointType === 10 ) {

            this._parseLinesAsXYZIRGBnXnYnZ( lines )

        } else {
            TLogger.error( "Invalid data line: " + line )
        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLinesAsXYZ ( lines ) {

        let words = []

        for ( let lineIndex = 0, numberOfLines = lines.length ; lineIndex &lt; numberOfLines ; lineIndex++ ) {

            words = lines[ lineIndex ].split( " " )

            this._points.push( {
                x: parseFloat( words[ 0 ] ),
                y: parseFloat( words[ 1 ] ),
                z: parseFloat( words[ 2 ] )
            } )
        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLinesAsXYZI ( lines ) {

        this._pointsHaveIntensity = true
        let words                 = []

        for ( let lineIndex = 0, numberOfLines = lines.length ; lineIndex &lt; numberOfLines ; lineIndex++ ) {

            words = lines[ lineIndex ].split( " " )

            this._points.push( {
                x: parseFloat( words[ 0 ] ),
                y: parseFloat( words[ 1 ] ),
                z: parseFloat( words[ 2 ] ),
                i: parseFloat( words[ 3 ] )
            } )

        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLinesAsXYZRGB ( lines ) {

        this._pointsHaveColor = true
        let words             = []

        for ( let lineIndex = 0, numberOfLines = lines.length ; lineIndex &lt; numberOfLines ; lineIndex++ ) {

            words = lines[ lineIndex ].split( " " )

            this._points.push( {
                x: parseFloat( words[ 0 ] ),
                y: parseFloat( words[ 1 ] ),
                z: parseFloat( words[ 2 ] ),
                r: parseFloat( words[ 3 ] ),
                g: parseFloat( words[ 4 ] ),
                b: parseFloat( words[ 5 ] )
            } )

        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLinesAsXYZnXnYnZ ( lines ) {

        let words = [];
        for ( let lineIndex = 0, numberOfLines = lines.length ; lineIndex &lt; numberOfLines ; lineIndex++ ) {

            words = lines[ lineIndex ].split( " " )

        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLinesAsXYZIRGB ( lines ) {

        this._pointsHaveIntensity = true
        this._pointsHaveColor     = true
        let words                 = []

        for ( let lineIndex = 0, numberOfLines = lines.length ; lineIndex &lt; numberOfLines ; lineIndex++ ) {

            words = lines[ lineIndex ].split( " " )

            this._points.push( {
                x: parseFloat( words[ 0 ] ),
                y: parseFloat( words[ 1 ] ),
                z: parseFloat( words[ 2 ] ),
                i: parseFloat( words[ 3 ] ),
                r: parseFloat( words[ 4 ] ),
                g: parseFloat( words[ 5 ] ),
                b: parseFloat( words[ 6 ] )
            } )
        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLinesAsXYZInXnYnZ ( lines ) {

        let words = [];
        for ( let lineIndex = 0, numberOfLines = lines.length ; lineIndex &lt; numberOfLines ; lineIndex++ ) {

            words = lines[ lineIndex ].split( " " )
        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLinesAsXYZRGBnXnYnZ ( lines ) {

        this._pointsHaveColor   = true
        this._pointsHaveNormals = true
        let words               = []

        for ( let lineIndex = 0, numberOfLines = lines.length ; lineIndex &lt; numberOfLines ; lineIndex++ ) {

            words = lines[ lineIndex ].split( " " )

            this._points.push( {
                x:  parseFloat( words[ 0 ] ),
                y:  parseFloat( words[ 1 ] ),
                z:  parseFloat( words[ 2 ] ),
                r:  parseFloat( words[ 3 ] ),
                g:  parseFloat( words[ 4 ] ),
                b:  parseFloat( words[ 5 ] ),
                nx: parseFloat( words[ 6 ] ),
                ny: parseFloat( words[ 7 ] ),
                nz: parseFloat( words[ 8 ] )
            } )

        }

    },

    /**
     *
     * @param lines
     * @private
     */
    _parseLinesAsXYZIRGBnXnYnZ ( lines ) {

        this._pointsHaveIntensity = true
        this._pointsHaveColor     = true
        this._pointsHaveNormals   = true
        let words                 = []

        for ( let lineIndex = 0, numberOfLines = lines.length ; lineIndex &lt; numberOfLines ; lineIndex++ ) {

            words = lines[ lineIndex ].split( " " )

            this._points.push( {
                x:  parseFloat( words[ 0 ] ),
                y:  parseFloat( words[ 1 ] ),
                z:  parseFloat( words[ 2 ] ),
                i:  parseFloat( words[ 3 ] ),
                r:  parseFloat( words[ 4 ] ),
                g:  parseFloat( words[ 5 ] ),
                b:  parseFloat( words[ 6 ] ),
                nx: parseFloat( words[ 7 ] ),
                ny: parseFloat( words[ 8 ] ),
                nz: parseFloat( words[ 9 ] )
            } )

        }
    },

    /**
     *
     * @param line
     * @private
     */
    _parseLineB ( line ) {

        const values        = line.split( " " )
        const numberOfWords = values.length
        const bufferIndex   = this._bufferIndex

        if ( numberOfWords === 3 ) {

            // positions
            this._positions[ bufferIndex ]     = parseFloat( values[ 0 ] )
            this._positions[ bufferIndex + 1 ] = parseFloat( values[ 1 ] )
            this._positions[ bufferIndex + 2 ] = parseFloat( values[ 2 ] )

            this._bufferIndex += 3

        }

    },

    /**
     *
     * @param line
     * @private
     */
    _parseLineC: function ( line ) {

        const values        = line.split( " " )
        const numberOfWords = values.length
        const bufferIndex   = this._bufferIndexC

        if ( numberOfWords === 3 ) {

            // positions
            this._positionsC[ bufferIndex ]     = Number.parseFloat( values[ 0 ] )
            this._positionsC[ bufferIndex + 1 ] = Number.parseFloat( values[ 1 ] )
            this._positionsC[ bufferIndex + 2 ] = Number.parseFloat( values[ 2 ] )

            this._bufferIndexC += 3

        }

    },

    /**
     *
     * @private
     */
    _offsetPoints () {

        const offset         = (this._autoOffset) ? this._boundingBox.getCenter() : this._offset
        const numberOfPoints = this._points.length;
        let point            = null;
        for ( let i = 0 ; i &lt; numberOfPoints ; ++i ) {

            point = this._points[ i ]
            point.x -= offset.x
            point.y -= offset.y
            point.z -= offset.z

        }

    },

    /**
     *
     * @param groupToFeed
     * @private
     */
    _createCloudPoint ( groupToFeed ) {

        const SPLIT_LIMIT        = 1000000
        // var group = new Group();
        const numberOfPoints     = this._points.length
        const numberOfSplit      = Math.ceil( numberOfPoints / SPLIT_LIMIT )
        let splice               = undefined
        let numberOfPointInSplit = 0
        let cloud                = undefined

        for ( let splitIndex = 0 ; splitIndex &lt; numberOfSplit ; ++splitIndex ) {

            splice               = this._points.splice( 0, SPLIT_LIMIT )
            numberOfPointInSplit = splice.length

            const geometry  = new BufferGeometry()
            const positions = new Float32Array( numberOfPointInSplit * 3 )
            const colors    = new Float32Array( numberOfPointInSplit * 3 )
            const color     = new Color()
            let bufferIndex = 0
            let point       = undefined

            for ( let i = 0 ; i &lt; numberOfPointInSplit ; ++i ) {

                // current point
                point = splice[ i ];

                // positions
                positions[ bufferIndex ]     = point.x
                positions[ bufferIndex + 1 ] = point.y
                positions[ bufferIndex + 2 ] = point.z

                // colors
                if ( this._pointsHaveColor ) {
                    colors[ bufferIndex ]     = point.r / 255
                    colors[ bufferIndex + 1 ] = point.g / 255
                    colors[ bufferIndex + 2 ] = point.b / 255
                } else {
                    colors[ bufferIndex ]     = 0.1
                    colors[ bufferIndex + 1 ] = 0.2
                    colors[ bufferIndex + 2 ] = 0.5
                }

                bufferIndex += 3

            }

            geometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) )
            geometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) )

            const material = new PointsMaterial( {
                size:         0.01,
                vertexColors: true
            } )

            cloud = new Points( geometry, material )
            groupToFeed.children.push( cloud )
            // group.children.push(cloud);
        }

        // return group;

    },

    /**
     *
     * @param group
     * @private
     */
    _createSubCloudPoint ( group ) {

        const numberOfPoints = this._points.length;
        const geometry       = new BufferGeometry()
        const positions      = new Float32Array( numberOfPoints * 3 )
        const colors         = new Float32Array( numberOfPoints * 3 )
        const color          = new Color()
        let bufferIndex      = 0
        let point            = undefined

        for ( let i = 0 ; i &lt; numberOfPoints ; ++i ) {

            // current point
            point = this._points[ i ]

            // positions
            positions[ bufferIndex ]     = point.x
            positions[ bufferIndex + 1 ] = point.y
            positions[ bufferIndex + 2 ] = point.z

            // colors
            if ( this._pointsHaveColor ) {
                colors[ bufferIndex ]     = point.r / 255
                colors[ bufferIndex + 1 ] = point.g / 255
                colors[ bufferIndex + 2 ] = point.b / 255
            } else {
                colors[ bufferIndex ]     = 0.1
                colors[ bufferIndex + 1 ] = 0.2
                colors[ bufferIndex + 2 ] = 0.5
            }

            bufferIndex += 3

        }

        geometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) )
        geometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) )

        var material = new PointsMaterial( {
            size:         0.005,
            vertexColors: true
        } )

        var cloud = new Points( geometry, material )
        //Todo: Apply import coordinates syteme here !
        cloud.rotation.x -= Math.PI / 2

        group.children.push( cloud )

        // Clear current processed points
        this._points = []

    }

} )

export { ASCLoader }
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
